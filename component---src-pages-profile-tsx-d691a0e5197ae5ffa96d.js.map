{"version":3,"sources":["webpack:///./src/containers/ProfileContainer.tsx","webpack:///./src/pages/profile.tsx","webpack:///./node_modules/file-saver/dist/FileSaver.min.js","webpack:///./node_modules/@material-ui/icons/DescriptionOutlined.js","webpack:///./node_modules/@material-ui/icons/BugReportOutlined.js","webpack:///./node_modules/@material-ui/icons/LiveHelpOutlined.js","webpack:///./node_modules/@material-ui/icons/DeleteForeverOutlined.js"],"names":["ProfileContainer","_React$Component","props","_this","call","this","componentDidMount","_asyncToGenerator","regenerator_default","a","mark","_callee","allDocs","blob","wrap","_context","prev","next","GoiDb","include_docs","attachments","sent","Blob","JSON","stringify","type","setState","allDataUrl","URL","createObjectURL","stop","repairData","_callee2","_context2","confirmDestroyData","_callee3","_context3","destroyDialogOpened","destroyUserConfirm","destroy","window","location","reload","exportAllData","_callee4","_context4","saveAs","onClickBugReport","_callee5","_context5","href","onClickUnregisterServiceWorker","_callee6","registrations","_iterator","_isArray","_i","_ref7","_context6","navigator","serviceWorker","getRegistrations","Array","isArray","Symbol","iterator","length","abrupt","done","value","unregister","state","_proto","prototype","navigate","to","replace","render","_this2","_this$props","poiUserId","savingId","react_default","createElement","className","List","ListItem","Button","variant","onClick","DescriptionOutlined_default","_callee7","_context7","_callee8","_context8","BugReportOutlined_default","LiveHelpOutlined_default","DeleteForeverOutlined_default","color","Dialog","open","maxWidth","DialogTitle","DialogContent","TextField","fullWidth","placeholder","onChange","e","target","DialogActions","size","disabled","toLowerCase","fontSize","React","Component","connect","console","debug","GoiUser","get","GoiSaving","dispatch","showWordAdder","_ref10","ShowWordAdderAction","ProfilePage","resizeSurveyIFrame","surveyIframe","surveyIFrame","current","contentWindow","createRef","NavBar","Container","containers_ProfileContainer","style","position","bottom","global","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","__webpack_require__","undefined","c","b","d","XMLHttpRequest","responseType","onload","response","onerror","error","send","status","dispatchEvent","MouseEvent","document","createEvent","initMouseEvent","f","self","HTMLAnchorElement","g","h","i","webkitURL","j","name","download","rel","origin","setTimeout","revokeObjectURL","msSaveOrOpenBlob","autoBom","warn","test","title","body","innerText","HTMLElement","safari","userAgent","FileReader","onloadend","result","readAsDataURL","k","l","module","exports","apply","_interopRequireDefault","Object","defineProperty","default","_react","_default","Fragment","fill"],"mappings":"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","file":"component---src-pages-profile-tsx-d691a0e5197ae5ffa96d.js","sourcesContent":["import React from \"react\"\nimport { connect } from \"react-redux\"\nimport { ShowWordAdderAction } from \"../actions/WordAdderActions\"\nimport * as PoiUser from \"../utils/PoiUser\"\nimport { GoiSavingId } from \"../types/GoiTypes\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport { RootStateType } from \"../states/RootState\"\nimport { Action } from \"redux\"\nimport {\n  Button,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  TextField,\n  List as MuiList,\n  ListItem,\n} from \"@material-ui/core\"\nimport { saveAs } from \"file-saver\"\nimport { SpeedDial, SpeedDialAction } from \"@material-ui/lab\"\nimport { navigate, Link } from \"gatsby\"\nimport AddIcon from \"@material-ui/icons/AddOutlined\"\nimport SmsIcon from \"@material-ui/icons/SmsOutlined\"\nimport ShareIcon from \"@material-ui/icons/ShareOutlined\"\nimport MenuIcon from \"@material-ui/icons/MenuOutlined\"\nimport HighlightIcon from \"@material-ui/icons/HighlightOutlined\"\nimport PersonIcon from \"@material-ui/icons/PersonOutlined\"\nimport SyncIcon from \"@material-ui/icons/SyncOutlined\"\nimport FlagIcon from \"@material-ui/icons/FlagOutlined\"\nimport SearchIcon from \"@material-ui/icons/SearchOutlined\"\nimport DeleteIcon from \"@material-ui/icons/DeleteOutlined\"\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForeverOutlined\"\nimport DescriptionIcon from \"@material-ui/icons/DescriptionOutlined\"\nimport BugReportIcon from \"@material-ui/icons/BugReportOutlined\"\nimport LiveHelpIcon from \"@material-ui/icons/LiveHelpOutlined\"\nimport { GoiDb } from \"../utils/GoiDb\"\n\ntype ProfileContainerPropsType = ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>\ninterface ProfileContainerStateType {\n  destroyDialogOpened: boolean\n  destroyUserConfirm: string\n  allDataUrl: string\n}\n\nexport class ProfileContainer extends React.Component<\n  ProfileContainerPropsType,\n  ProfileContainerStateType\n> {\n  constructor(props: ProfileContainerPropsType) {\n    super(props)\n    this.state = {\n      destroyDialogOpened: false,\n      destroyUserConfirm: \"\",\n      allDataUrl: \"\",\n    }\n  }\n  componentDidMount = async () => {\n    const allDocs = await GoiDb().allDocs({\n      include_docs: true,\n      attachments: true,\n    })\n    const blob = new Blob([JSON.stringify(allDocs)], {\n      type: \"text/plain;charset=utf-8\",\n    })\n    this.setState({ allDataUrl: URL.createObjectURL(blob) })\n  }\n  navigate(to: string) {\n    navigate(to, { replace: true })\n  }\n  repairData = async () => {}\n  confirmDestroyData = async () => {\n    this.setState({ destroyDialogOpened: false, destroyUserConfirm: \"\" })\n    await GoiDb().destroy()\n    window.location.reload()\n  }\n  exportAllData = async () => {\n    const allDocs = await GoiDb().allDocs({\n      include_docs: true,\n      attachments: true,\n    })\n    const blob = new Blob([JSON.stringify(allDocs)], {\n      type: \"application/json\",\n    })\n    saveAs(blob, \"GoiSaving.json\")\n  }\n  onClickBugReport = async () => {\n    window.location.href =\n      \"https://forms.office.com/Pages/ResponsePage.aspx?id=HO2aql64JEqeASBBMrBBF5y2nH0iJiFBmV42lNreWUVUN0dWTElDTTNPSUFTQzVSRUtJUldQM0ZDSiQlQCN0PWcu\"\n  }\n  onClickUnregisterServiceWorker = async () => {\n    const registrations = await navigator.serviceWorker.getRegistrations()\n    for (let registration of registrations) {\n      registration.unregister()\n    }\n    window.location.reload()\n  }\n  render() {\n    const { poiUserId, savingId } = this.props\n    return (\n      <div className=\"profile-container\">\n        <MuiList>\n          <h1>Troubleshooting Zone</h1>\n          <ListItem>\n            Try to upgrade the local database from outdated data structure.\n          </ListItem>\n          <ListItem>\n            <Button variant=\"contained\" onClick={this.repairData}>\n              Repair data\n              <DescriptionIcon />\n            </Button>\n          </ListItem>\n          <ListItem>\n            Export all local data in a single json file. It won't take your\n            network usage.\n          </ListItem>\n          <ListItem>\n            <Button\n              variant=\"contained\"\n              onClick={async () => await this.exportAllData()}\n            >\n              Export all data (Download)\n              <DescriptionIcon />\n            </Button>\n          </ListItem>\n          <ListItem>\n            <Button\n              variant=\"contained\"\n              onClick={async () => await this.navigate(\"/dumpdata/\")}\n            >\n              Export all data (Navigate)\n              <DescriptionIcon />\n            </Button>\n          </ListItem>\n          <ListItem>\n            <Button variant=\"contained\" onClick={this.onClickBugReport}>\n              Bug Report\n              <BugReportIcon />\n            </Button>\n          </ListItem>\n          <ListItem>\n            <Button variant=\"contained\">\n              [WIP] Help desk\n              <LiveHelpIcon />\n            </Button>\n          </ListItem>\n          <ListItem>\n            <Button variant=\"contained\">\n              [WIP] Help desk wechat\n              <LiveHelpIcon />\n            </Button>\n          </ListItem>\n          <ListItem>\n            If there is a fatal error that cannot be resolved, you can destroy\n            entire local database with the following button. Please contact us\n            first before doing so.\n          </ListItem>\n          <ListItem>\n            <Button\n              variant=\"contained\"\n              onClick={() =>\n                this.setState({\n                  destroyDialogOpened: true,\n                  destroyUserConfirm: \"\",\n                })\n              }\n            >\n              Unregister Service Worker\n              <DeleteForeverIcon />\n            </Button>\n          </ListItem>\n          <ListItem>\n            <Button\n              variant=\"contained\"\n              color=\"secondary\"\n              onClick={() =>\n                this.setState({\n                  destroyDialogOpened: true,\n                  destroyUserConfirm: \"\",\n                })\n              }\n            >\n              Destroy all local data\n              <DeleteForeverIcon />\n            </Button>\n          </ListItem>\n          <Dialog open={this.state.destroyDialogOpened} maxWidth=\"xl\">\n            <DialogTitle>Destroy all data</DialogTitle>\n            <DialogContent>\n              <TextField\n                fullWidth\n                placeholder=\"Type DESTROY to continue\"\n                value={this.state.destroyUserConfirm}\n                onChange={e =>\n                  this.setState({ destroyUserConfirm: e.target.value })\n                }\n              ></TextField>\n            </DialogContent>\n            <DialogActions>\n              <Button\n                size=\"small\"\n                onClick={() => this.setState({ destroyDialogOpened: false })}\n              >\n                Cancel\n              </Button>\n              <Button\n                size=\"small\"\n                variant=\"contained\"\n                color=\"secondary\"\n                disabled={\n                  this.state.destroyUserConfirm.toLowerCase() !== \"destroy\"\n                }\n                onClick={this.confirmDestroyData}\n              >\n                Destroy all data\n                <DeleteForeverIcon fontSize=\"small\" />\n              </Button>\n            </DialogActions>\n          </Dialog>\n        </MuiList>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state: RootStateType) => {\n  console.debug(\"ProfileContainer state: \", state)\n  const props = {\n    poiUserId: state.GoiUser.get(\"PoiUserId\") as PoiUser.PoiUserId,\n    savingId: state.GoiSaving.get(\"SavingId\") as GoiSavingId,\n  }\n  console.debug(\"ProfileContainer props: \", props)\n  return props\n}\nconst mapDispatchToProps = (\n  dispatch: ThunkDispatch<RootStateType, void, Action>\n) => {\n  return {\n    showWordAdder: ({\n      poiUserId,\n      savingId,\n    }: {\n      poiUserId: PoiUser.PoiUserId\n      savingId: GoiSavingId\n    }) => dispatch(ShowWordAdderAction({ poiUserId, savingId })),\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ProfileContainer)\n","import React from \"react\"\nimport NavBar from \"../components/NavBar\"\nimport GoiTester from \"../containers/GoiTester\"\nimport WordAdder from \"../containers/WordAdder\"\nimport CommandsBar from \"../containers/CommandsBar\"\nimport Container from \"@material-ui/core/Container\"\nimport { Hidden } from \"@material-ui/core\"\nimport ProfileContainer from \"../containers/ProfileContainer\"\n\nexport class ProfilePage extends React.Component {\n  surveyIFrame: React.RefObject<HTMLIFrameElement>\n  constructor(props: any) {\n    super(props)\n    this.surveyIFrame = React.createRef()\n  }\n  resizeSurveyIFrame = () => {\n    const surveyIframe = this.surveyIFrame.current\n    if (!surveyIframe) {\n      return\n    }\n    const surveyWindow = surveyIframe.contentWindow\n    if (!surveyWindow) {\n      return\n    }\n    // const surveyHeight = surveyWindow.outerHeight\n    // surveyIframe.height = surveyHeight + \"px\"\n  }\n  render() {\n    return (\n      <div className=\"goi-profile-page\">\n        <NavBar />\n        <main>\n          <Container>\n            <ProfileContainer />\n          </Container>\n        </main>\n        <footer style={{ position: \"fixed\", bottom: 0 }}>\n          <Container>\n            <ruby>\n              私<rt>わたし</rt>\n            </ruby>\n            たちの\n            <ruby>\n              夢<rt>ゆめ</rt>\n            </ruby>\n            をここから\n            <ruby>\n              始<rt>はじ</rt>\n            </ruby>\n            めましょう ٩(ˊᗜˋ*)و\n          </Container>\n        </footer>\n      </div>\n    )\n  }\n}\nexport default ProfilePage\n","require(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\n(function (a, b) {\n  if (\"function\" == typeof define && define.amd) define([], b);else if (\"undefined\" != typeof exports) b();else {\n    b(), a.FileSaver = {\n      exports: {}\n    }.exports;\n  }\n})(this, function () {\n  \"use strict\";\n\n  function b(a, b) {\n    return \"undefined\" == typeof b ? b = {\n      autoBom: !1\n    } : \"object\" != typeof b && (console.warn(\"Deprecated: Expected third argument to be a object\"), b = {\n      autoBom: !b\n    }), b.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type) ? new Blob([\"\\uFEFF\", a], {\n      type: a.type\n    }) : a;\n  }\n\n  function c(b, c, d) {\n    var e = new XMLHttpRequest();\n    e.open(\"GET\", b), e.responseType = \"blob\", e.onload = function () {\n      a(e.response, c, d);\n    }, e.onerror = function () {\n      console.error(\"could not download file\");\n    }, e.send();\n  }\n\n  function d(a) {\n    var b = new XMLHttpRequest();\n    b.open(\"HEAD\", a, !1);\n\n    try {\n      b.send();\n    } catch (a) {}\n\n    return 200 <= b.status && 299 >= b.status;\n  }\n\n  function e(a) {\n    try {\n      a.dispatchEvent(new MouseEvent(\"click\"));\n    } catch (c) {\n      var b = document.createEvent(\"MouseEvents\");\n      b.initMouseEvent(\"click\", !0, !0, window, 0, 0, 0, 80, 20, !1, !1, !1, !1, 0, null), a.dispatchEvent(b);\n    }\n  }\n\n  var f = \"object\" == typeof window && window.window === window ? window : \"object\" == typeof self && self.self === self ? self : \"object\" == typeof global && global.global === global ? global : void 0,\n      a = f.saveAs || (\"object\" != typeof window || window !== f ? function () {} : \"download\" in HTMLAnchorElement.prototype ? function (b, g, h) {\n    var i = f.URL || f.webkitURL,\n        j = document.createElement(\"a\");\n    g = g || b.name || \"download\", j.download = g, j.rel = \"noopener\", \"string\" == typeof b ? (j.href = b, j.origin === location.origin ? e(j) : d(j.href) ? c(b, g, h) : e(j, j.target = \"_blank\")) : (j.href = i.createObjectURL(b), setTimeout(function () {\n      i.revokeObjectURL(j.href);\n    }, 4E4), setTimeout(function () {\n      e(j);\n    }, 0));\n  } : \"msSaveOrOpenBlob\" in navigator ? function (f, g, h) {\n    if (g = g || f.name || \"download\", \"string\" != typeof f) navigator.msSaveOrOpenBlob(b(f, h), g);else if (d(f)) c(f, g, h);else {\n      var i = document.createElement(\"a\");\n      i.href = f, i.target = \"_blank\", setTimeout(function () {\n        e(i);\n      });\n    }\n  } : function (a, b, d, e) {\n    if (e = e || open(\"\", \"_blank\"), e && (e.document.title = e.document.body.innerText = \"downloading...\"), \"string\" == typeof a) return c(a, b, d);\n    var g = \"application/octet-stream\" === a.type,\n        h = /constructor/i.test(f.HTMLElement) || f.safari,\n        i = /CriOS\\/[\\d]+/.test(navigator.userAgent);\n\n    if ((i || g && h) && \"object\" == typeof FileReader) {\n      var j = new FileReader();\n      j.onloadend = function () {\n        var a = j.result;\n        a = i ? a : a.replace(/^data:[^;]*;/, \"data:attachment/file;\"), e ? e.location.href = a : location = a, e = null;\n      }, j.readAsDataURL(a);\n    } else {\n      var k = f.URL || f.webkitURL,\n          l = k.createObjectURL(a);\n      e ? e.location = l : location.href = l, e = null, setTimeout(function () {\n        k.revokeObjectURL(l);\n      }, 4E4);\n    }\n  });\n  f.saveAs = a.saveAs = a, \"undefined\" != typeof module && (module.exports = a);\n});","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(_react.default.Fragment, null, _react.default.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0V0z\"\n}), _react.default.createElement(\"path\", {\n  d: \"M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z\"\n})), 'DescriptionOutlined');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(_react.default.Fragment, null, _react.default.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0V0z\"\n}), _react.default.createElement(\"path\", {\n  d: \"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5s-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-4 4v3c0 .22-.03.47-.07.7l-.1.65-.37.65c-.72 1.24-2.04 2-3.46 2s-2.74-.77-3.46-2l-.37-.64-.1-.65C8.03 15.48 8 15.23 8 15v-4c0-.23.03-.48.07-.7l.1-.65.37-.65c.3-.52.72-.97 1.21-1.31l.57-.39.74-.18c.31-.08.63-.12.94-.12.32 0 .63.04.95.12l.68.16.61.42c.5.34.91.78 1.21 1.31l.38.65.1.65c.04.22.07.47.07.69v1zm-6 2h4v2h-4zm0-4h4v2h-4z\"\n})), 'BugReportOutlined');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(_react.default.Fragment, null, _react.default.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0V0z\"\n}), _react.default.createElement(\"path\", {\n  d: \"M19 2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h4l3 3 3-3h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 16h-4.83l-.59.59L12 20.17l-1.59-1.59-.58-.58H5V4h14v14zm-8-3h2v2h-2zm1-8c1.1 0 2 .9 2 2 0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4S8 6.79 8 9h2c0-1.1.9-2 2-2z\"\n})), 'LiveHelpOutlined');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(_react.default.Fragment, null, _react.default.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0V0z\"\n}), _react.default.createElement(\"path\", {\n  d: \"M14.12 10.47L12 12.59l-2.13-2.12-1.41 1.41L10.59 14l-2.12 2.12 1.41 1.41L12 15.41l2.12 2.12 1.41-1.41L13.41 14l2.12-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4zM6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9z\"\n})), 'DeleteForeverOutlined');\n\nexports.default = _default;"],"sourceRoot":""}