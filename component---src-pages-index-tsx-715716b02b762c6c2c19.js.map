{"version":3,"sources":["webpack:///./src/components/WordCards/TinyTag.tsx","webpack:///./src/utils/PoiResponsive.ts","webpack:///./src/components/WordCards/GoiTranslation.tsx","webpack:///./src/components/WordCards/TinyContentTag.tsx","webpack:///./src/components/WordCards/GoiSentence.tsx","webpack:///./src/components/WordCards/GoiUnorderedList.tsx","webpack:///./src/components/WordCards/JaWordCard.tsx","webpack:///./src/components/ResponsiveDialog.tsx","webpack:///./src/containers/GoiTester.tsx","webpack:///./src/utils/PoiI18n.ts","webpack:///./src/containers/WordAdder.tsx","webpack:///./src/containers/CommandsBar.tsx","webpack:///./src/pages/index.tsx"],"names":["TinyTag","_React$Component","apply","this","arguments","prototype","render","react_default","a","createElement","Box","Object","assign","display","fontSize","height","color","marginLeft","marginRight","props","children","React","Component","ToggleEvents","toggleEventHandler","onClick","onFocus","onBlur","onMouseEnter","onMouseLeave","onClose","GoiTranslation","_this","call","toggleStateHint","state","displayHint","setState","t","_this$props","i18nTranslation","from","displayFrom","className","style","entries","translation","map","_ref","translationLanguage","translationText","keys","length","hint","IconButton","size","WbSunnyOutlined_default","_ref2","hintLanguage","hintText","key","visibility","WordCards_TinyTag","dangerouslySetInnerHTML","__html","width","justifyContent","defaultProps","en","zh","jp","locales","withTranslation","TinyContentTag","flexWrap","alignItems","title","GoiSentence","i18nSentence","sentence","audios","source","link","contributor","GoiUnorderedList","listStyle","padding","debug","DebugModule","circledNumber","x","String","fromCharCode","Math","floor","JaWordCard","level","statusColor","status","word","sortedTranslationsDictionarys","i","dictionarys","tmpDictionary","translations","includes","push","filteredTranslationsDictionarys","slice","sortedSentences","_loop","tmpSentences","sentences","filter","_toConsumableArray","filteredSentences","minHeight","common","VolumeOffOutlined_default","tone","Array","isArray","singleTone","join","BatteryUnknownOutlined_default","BatteryCharging20Outlined_default","BatteryCharging30Outlined_default","BatteryCharging50Outlined_default","BatteryCharging60Outlined_default","BatteryCharging80Outlined_default","BatteryCharging90Outlined_default","BatteryChargingFullOutlined_default","BatteryAlertOutlined_default","romaji","WordCards_TinyContentTag","wapuro","alternatives","furigana","uncommons","pos","WordCards_GoiUnorderedList","dictionaryName","WordCards_GoiTranslation","sentenceId","WordCards_GoiSentence","textbook","textbookId","ResponsiveDialog","useMediaQuery","useTheme","breakpoints","down","Dialog","PaperProps","margin","GoiTester","JudgeInputElement","requestJudge","_asyncToGenerator","regenerator_default","mark","_callee","_temp","skip","forceLevelChange","poiUserId","savingId","judgeResult","wrap","_context","prev","next","currentWord","toJS","judgeAnswer","answer","testerInput","sent","requestNext","stop","_x","_ref3","_callee2","_temp2","forget","_this$props2","currentWordKey","learnedCandidates","prioritiedCandidates","pendingCandidates","_context2","GoiWordRecord","Forget","showNextWord","displayDetail","_x2","isReportWordDialogOpened","_proto","componentDidMount","_componentDidMount","_callee3","_context3","lazyInitUser","lazyInitSaving","_this2","_this$props3","i18n","savingLanguage","saving","Language","wordCardStatus","wordCardDisplay","Helmet_default","startsWith","defaultValue","wordkey","TextField","label","variant","value","flexGrow","updateIsTyping","isTyping","onChange","e","target","InputProps","placeholder","endAdornment","InputAdornment","position","aria-label","edge","KeyboardReturnOutlined_default","onKeyDown","Button","RedoOutlined_default","ForwardOutlined_default","overflowY","maxHeight","WordCards_JaWordCard","currentLevel","flexShrink","MoreHorizOutlined_default","LinkOffOutlined_default","forcedWordKey","ExposurePlus1Outlined_default","ExposurePlus2Outlined_default","ReportProblemOutlined_default","components_ResponsiveDialog","open","language","src","frameBorder","marginWidth","marginHeight","border","maxWidth","allowFullScreen","DialogActions","connect","get","GoiUser","GoiSaving","getIn","has","dispatch","LazyInitUserAction","_ref5","LazyInitSavingAction","_ref6","UpdateIsTypingAction","enableScroll","_ref7","UpdateEnableScrollAction","_ref8","_temp3","_ref9","ShowNextWordAction","_ref10","_ref11","VerifyAnswerAction","LookUp","i18nString","locale","ja","QueryRegexPopup","regex","WordAdder","getSuggestionQuerys","suggestions","suggestion","Query","getPendingQuerys","pendings","pending","addSuggestion","WordAdder_asyncToGenerator","SubQuerys","addPendingQuerys","querys","concat","WordAdder_toConsumableArray","Display","countSubtotal","query","clearAllPendingQuerys","Promise","all","removePendingQuery","onClickConfirm","addingWordsProgress","addWordsFromQuerys","close","addCustomQuery","_callee4","_context4","customQuery","trim","addPendingQuery","onClickRemovePendingQuery","_callee5","_this$props4","newPendingQuerys","_context5","pendingQuery","_this$props5","_this$props6","includedBasicPos","BasicPos","AcceptPos","isBasicFilterChecked","_learnedCount$priorit","learnedCount","prioritiedCount","pendingCount","counters","DialogTitle","DialogContent","dividers","List","dense","flex","readOnly","clearPendingWords","DeleteOutlined_default","ListItem","Divider","component","Typography","TotalCount","LearnedCount","AddedCount","NewCount","ListItemText","primary","Fragment","WordAdder_QueryRegexPopup","total","secondary","learned","added","new","ListItemSecondaryAction","AddOutlined_default","SearchOutlined_default","subtotal","ExploreOffOutlined_default","CloseOutlined_default","FormControlLabel","control","Checkbox","checked","indeterminate","changeFilter","acceptBasic","acceptPosFlags","PROPER","IDIOM","AcceptExtra","acceptExtra","AcceptForgot","acceptForgot","disabled","ClearPendingWordsAction","AddPendingQueryAction","_ref12","AddPendingQuerysAction","_ref13","RemovePendingQueryAction","_ref14","AddWordsFromQuerysAction","DisplayWordAdderAction","refreshWordAdder","RefreshWordAdderAction","_ref15","CountSubtotalAction","_ref16","ChangeFilterAction","CommandsBar","commandsContainerRef","createRef","openMenu","isMenuOpened","closeMenu","toggleMenu","isCommandsExpanded","navigate","to","replace","smDown","window","innerWidth","bottom","right","marginBottom","current","scrollTo","left","behavior","FirstPageOutlined_default","ref","marginTop","overflowX","direction","whiteSpace","NavigateNextOutlined_default","FormatQuoteOutlined_default","RefreshOutlined_default","PlaylistPlayOutlined_default","CreateOutlined_default","FingerprintOutlined_default","FlagOutlined_default","CloudOffOutlined_default","isEmpty","showWordAdder","SpeedDial","ariaLabel","icon","MenuOutlined_default","ButtonProps","background","SpeedDialAction","ShareOutlined_default","tooltipTitle","tooltipOpen","SmsOutlined_default","HighlightOutlined_default","PersonOutlined_default","ShowWordAdderAction","IndexPage","overflow","Hidden","xsDown","NavBar","smUp","poisky","containers_CommandsBar","containers_WordAdder","Container","containers_GoiTester","Layout"],"mappings":"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","file":"component---src-pages-index-tsx-715716b02b762c6c2c19.js","sourcesContent":["import React from \"react\"\nimport { I18nString } from \"../../types/PoiI18nTypes\"\nimport { List as MuiList, Box } from \"@material-ui/core\"\nimport { BoxProps } from \"@material-ui/core/Box\"\n\nexport interface TinyTagPropsType extends BoxProps {}\nexport class TinyTag extends React.Component<TinyTagPropsType> {\n  render() {\n    return (\n      <Box\n        display=\"inline-flex\"\n        fontSize=\"3vmin\"\n        height=\"auto\"\n        color=\"gray\"\n        marginLeft=\"4px\"\n        marginRight=\"1px\"\n        {...this.props}\n      >\n        {this.props.children}\n      </Box>\n    )\n  }\n}\n\nexport default TinyTag\n","export const ToggleEvents = (\n  toggleEventHandler: (value?: boolean, event?: string) => void | Promise<void>\n) => {\n  return {\n    onClick: () => toggleEventHandler(true, \"onClick\"),\n    onFocus: () => toggleEventHandler(true, \"onFocus\"),\n    onBlur: () => toggleEventHandler(false, \"onBlur\"),\n    onMouseEnter: () => toggleEventHandler(true, \"onMouseEnter\"),\n    onMouseLeave: () => toggleEventHandler(false, \"onMouseLeave\"),\n    onClose: () => toggleEventHandler(false, \"onClose\"),\n  }\n}\n","import React from \"react\"\nimport { I18nString } from \"../../types/PoiI18nTypes\"\nimport { List as MuiList, Box, IconButton } from \"@material-ui/core\"\nimport WbSunnyIcon from \"@material-ui/icons/WbSunnyOutlined\"\nimport TinyTag from \"./TinyTag\"\nimport { ToggleEvents } from \"../../utils/PoiResponsive\"\nimport { WithTranslation, withTranslation } from \"react-i18next\"\n\nexport type GoiTranslationPropsType = WithTranslation & {\n  i18nTranslation: {\n    translation: I18nString\n    hint?: I18nString\n  }\n  displayHint?: boolean\n  locales?: string[] // WIP\n  from?: string\n  displayFrom?: boolean\n}\ninterface GoiTranslationStateType {\n  displayHint: boolean\n}\n\nexport class GoiTranslation extends React.Component<\n  GoiTranslationPropsType,\n  GoiTranslationStateType\n> {\n  static defaultProps = {\n    i18nTranslation: {\n      translation: {\n        en: \"English Translation\",\n        zh: \"中文翻译\",\n        jp: \"日本語\",\n      },\n      hint: {\n        en: \"English Hint\",\n        zh: \"中文提示\",\n        jp: \"日本語\",\n      },\n    },\n    displayHint: true,\n    locales: [\"jp\", \"zh\", \"en\"],\n    from: \"\",\n    displayFrom: false,\n  }\n  constructor(props: GoiTranslationPropsType) {\n    super(props)\n    this.state = {\n      displayHint: false,\n    }\n  }\n  toggleStateHint = (display?: boolean) => {\n    if (typeof display === \"undefined\") {\n      display = !this.state.displayHint\n    }\n    this.setState({ displayHint: display })\n  }\n  render() {\n    const { t } = this.props\n    const { i18nTranslation, from, displayFrom } = this.props\n    const displayHint = this.props.displayHint || this.state.displayHint\n    return (\n      <li>\n        <div\n          className=\"word-card-single-translation\"\n          style={{ fontSize: \"8vmin\" }}\n        >\n          {Object.entries(i18nTranslation.translation).map(\n            ([translationLanguage, translationText]) => {\n              return Object.keys(i18nTranslation.translation).length > 1\n                ? `${translationLanguage}:${translationText}; `\n                : `${translationText}`\n            }\n          )}\n        </div>\n        {i18nTranslation.hint && (\n          <div className=\"word-card-single-translation-hint\">\n            <IconButton size=\"small\" {...ToggleEvents(this.toggleStateHint)}>\n              <WbSunnyIcon fontSize=\"small\" />\n            </IconButton>\n            {Object.entries(i18nTranslation.hint).map(\n              ([hintLanguage, hintText]) => (\n                <span\n                  key={hintLanguage}\n                  style={{\n                    visibility: displayHint ? \"inherit\" : \"hidden\",\n                    fontSize: \"4vmin\",\n                  }}\n                >\n                  {Object.keys(i18nTranslation.hint || {}).length > 1 && (\n                    <TinyTag>{hintLanguage}</TinyTag>\n                  )}\n                  <span\n                    dangerouslySetInnerHTML={{\n                      __html: hintText || \"\",\n                    }}\n                  />\n                </span>\n              )\n            )}\n          </div>\n        )}\n        {displayFrom && (\n          <div\n            style={{\n              color: \"gray\",\n              width: \"100%\",\n              fontSize: \"1.5vmin\",\n              display: \"flex\",\n              justifyContent: \"flex-end\",\n            }}\n          >\n            from {from}\n          </div>\n        )}\n      </li>\n    )\n  }\n}\n\nexport default withTranslation(\"Common\")(GoiTranslation)\n","import React from \"react\"\nimport { I18nString } from \"../../types/PoiI18nTypes\"\nimport { List as MuiList, Box } from \"@material-ui/core\"\nimport { BoxProps } from \"@material-ui/core/Box\"\nimport TinyTag from \"./TinyTag\"\n\nexport interface TinyContentTagPropsType {\n  title: string\n}\nexport class TinyContentTag extends React.Component<TinyContentTagPropsType> {\n  render() {\n    return (\n      <div\n        style={{\n          flexWrap: \"nowrap\",\n          display: \"inline-flex\",\n          alignItems: \"center\",\n        }}\n      >\n        <div style={{ height: \"auto\" }}>\n          <TinyTag>{this.props.title}</TinyTag>\n        </div>\n        <span style={{ fontSize: \"4vmin\", color: \"gray\" }}>\n          {this.props.children}\n        </span>\n      </div>\n    )\n  }\n}\n\nexport default TinyContentTag\n","import React from \"react\"\nimport { I18nString } from \"../../types/PoiI18nTypes\"\nimport { List as MuiList, Box } from \"@material-ui/core\"\nimport TinyTag from \"./TinyTag\"\n\nexport type GoiSentencePropsType = {\n  i18nSentence: {\n    from: string\n    sentence: string\n    audios?: { cv: string; wav: string }[]\n    translation?: I18nString\n    source?: string\n    link?: string\n    contributor?: string\n  }\n  locales?: string[] // WIP\n  displayFrom?: boolean\n}\n\nexport class GoiSentence extends React.Component<GoiSentencePropsType> {\n  static defaultProps = {\n    i18nSentence: {\n      from: \"\",\n      sentence: \"It's a sample sentence.\",\n      translation: {\n        en: \"It's the translation of the sample sentence.\",\n        zh: \"这是例句的中文翻译\",\n        jp: \"これは例句の日本語の翻訳です\",\n      },\n      audios: [],\n      source: \"PoiGoi\",\n      link: \"https://goi.poi.dev/\",\n      contributor: \"凪\",\n    },\n    displayHint: true,\n    locales: [\"jp\", \"zh\", \"en\"],\n    displayFrom: false,\n  }\n  render() {\n    const { i18nSentence, displayFrom } = this.props\n    return (\n      <li>\n        <div\n          className=\"word-card-single-sentence\"\n          style={{ fontSize: \"4vmin\" }}\n        >\n          <span\n            dangerouslySetInnerHTML={{ __html: i18nSentence.sentence }}\n          ></span>\n        </div>\n        <div\n          className=\"word-card-single-sentence-translation\"\n          style={{ fontSize: \"4vmin\" }}\n        >\n          {i18nSentence.translation &&\n            Object.entries(i18nSentence.translation).map(\n              ([translationLanguage, translationText]) => {\n                return Object.keys(i18nSentence.translation || []).length > 1\n                  ? `${translationLanguage}:${translationText}; `\n                  : `${translationText}`\n              }\n            )}\n        </div>\n        {displayFrom && (\n          <div\n            style={{\n              color: \"gray\",\n              width: \"100%\",\n              fontSize: \"1.5vmin\",\n              display: \"flex\",\n              justifyContent: \"flex-end\",\n            }}\n          >\n            from {i18nSentence.from}\n          </div>\n        )}\n      </li>\n    )\n  }\n}\n\nexport default GoiSentence\n","import React from \"react\"\nimport { I18nString } from \"../../types/PoiI18nTypes\"\nimport { List as MuiList, Box } from \"@material-ui/core\"\nimport { BoxProps } from \"@material-ui/core/Box\"\n\nexport class GoiUnorderedList extends React.Component {\n  render() {\n    return (\n      <ul style={{ listStyle: \"none\", padding: 0 }} {...this.props}>\n        {this.props.children}\n      </ul>\n    )\n  }\n}\n\nexport default GoiUnorderedList\n","import React from \"react\"\nimport { GoiJaWordType } from \"../../types/GoiDictionaryTypes\"\nimport { List as MuiList, Box } from \"@material-ui/core\"\nimport GoiTranslation from \"./GoiTranslation\"\nimport TinyTag from \"./TinyTag\"\nimport TinyContentTag from \"./TinyContentTag\"\nimport GoiSentence from \"./GoiSentence\"\nimport BatteryUnknownIcon from \"@material-ui/icons/BatteryUnknownOutlined\"\nimport BatteryCharging20Icon from \"@material-ui/icons/BatteryCharging20Outlined\"\nimport BatteryCharging30Icon from \"@material-ui/icons/BatteryCharging30Outlined\"\nimport BatteryCharging50Icon from \"@material-ui/icons/BatteryCharging50Outlined\"\nimport BatteryCharging60Icon from \"@material-ui/icons/BatteryCharging60Outlined\"\nimport BatteryCharging80Icon from \"@material-ui/icons/BatteryCharging80Outlined\"\nimport BatteryCharging90Icon from \"@material-ui/icons/BatteryCharging90Outlined\"\nimport BatteryChargingFullIcon from \"@material-ui/icons/BatteryChargingFullOutlined\"\nimport BatteryAlertIcon from \"@material-ui/icons/BatteryAlertOutlined\"\nimport VolumeOffIcon from \"@material-ui/icons/VolumeOffOutlined\"\nimport DebugModule from \"debug\"\nimport GoiUnorderedList from \"./GoiUnorderedList\"\nconst debug = DebugModule(\"PoiGoi:JaWordCard\")\n\nexport type WordCardPropsType = {\n  word: GoiJaWordType\n  display: \"simple\" | \"detailed\" | \"test-common\" | \"test-translation\"\n  status:\n    | \"input\"\n    | \"first\"\n    | \"perfect\"\n    | \"good\"\n    | \"warning\"\n    | \"failed\"\n    | \"peek\"\n    | \"review\"\n  dictionarys: string[]\n  level: number\n}\n\nconst circledNumber = (x: number) => {\n  if (x === 0) {\n    return String.fromCharCode(9450)\n  }\n  if (x >= 1 && x < 20) {\n    return String.fromCharCode(9311 + Math.floor(x))\n  }\n  return \"\"\n}\nexport class JaWordCard extends React.Component<WordCardPropsType> {\n  static defaultProps = {\n    word: {\n      common: \"Common Placeholder\",\n      translation: \"Translation Placeholder\",\n    },\n    display: \"detailed\",\n    status: \"view\",\n    dictionarys: [\n      \"KanaDictionary\",\n      \"GoiSimpleJaDictionary\",\n      \"BiaozhunRibenyu\",\n      \"XinbianRiyu\",\n      \"Xinbian\",\n      \"AnimeSong\",\n      \"Anime\",\n      \"JishoOrg\",\n      \"GooJisho\",\n    ],\n    level: -1,\n  }\n  render() {\n    const { level } = this.props\n    const statusColor =\n      this.props.status === \"input\"\n        ? \"gray\"\n        : this.props.status === \"first\"\n        ? \"blue\"\n        : this.props.status === \"perfect\"\n        ? \"green\"\n        : this.props.status === \"good\"\n        ? \"lightgreen\"\n        : this.props.status === \"warning\"\n        ? \"orange\"\n        : this.props.status === \"failed\"\n        ? \"red\"\n        : this.props.status === \"peek\"\n        ? \"blue\"\n        : this.props.status === \"review\"\n        ? \"black\"\n        : \"black\"\n    const word = Object.assign({}, this.props.word)\n    const sortedTranslationsDictionarys = []\n    for (let i = 0; i < this.props.dictionarys.length; i++) {\n      const tmpDictionary = this.props.dictionarys[i]\n      if (Object.keys(word.translations).includes(tmpDictionary)) {\n        sortedTranslationsDictionarys.push(tmpDictionary)\n      }\n    }\n    const filteredTranslationsDictionarys =\n      this.props.display !== \"detailed\"\n        ? sortedTranslationsDictionarys.slice(0, 1)\n        : sortedTranslationsDictionarys\n    const sortedSentences = []\n    for (let i = 0; i < this.props.dictionarys.length; i++) {\n      const tmpDictionary = this.props.dictionarys[i]\n      const tmpSentences = (word.sentences || []).filter(\n        sentence => sentence.from === tmpDictionary\n      )\n      sortedSentences.push(...tmpSentences)\n    }\n    const filteredSentences =\n      this.props.display !== \"detailed\"\n        ? sortedSentences.slice(0, 1)\n        : sortedSentences\n    debug(filteredTranslationsDictionarys, filteredSentences)\n    return (\n      <div className=\"word-card\">\n        <div\n          className=\"word-card-common\"\n          style={{\n            minHeight: \"20vmin\",\n            fontSize: \"10vmin\",\n            color: statusColor,\n            visibility:\n              this.props.display === \"test-common\" ? \"hidden\" : \"inherit\",\n            display: \"flex\",\n            alignItems: \"flex-end\",\n          }}\n        >\n          <span dangerouslySetInnerHTML={{ __html: word.common }} />\n        </div>\n        <div\n          className=\"word-card-tags\"\n          style={{ display: \"flex\", alignItems: \"center\" }}\n        >\n          <div\n            style={{\n              display: \"inline-flex\",\n              alignItems: \"center\",\n              visibility:\n                this.props.display === \"test-common\" ? \"hidden\" : \"inherit\",\n            }}\n          >\n            <VolumeOffIcon fontSize=\"small\" />\n            {typeof word.tone === \"number\" && circledNumber(word.tone)}\n            {Array.isArray(word.tone) &&\n              word.tone\n                .map(\n                  singleTone =>\n                    typeof singleTone === \"number\" && circledNumber(singleTone)\n                )\n                .join()}\n            {level === 0 ? (\n              <BatteryUnknownIcon fontSize=\"small\" />\n            ) : level === 1 ? (\n              <BatteryCharging20Icon fontSize=\"small\" />\n            ) : level === 2 ? (\n              <BatteryCharging30Icon fontSize=\"small\" />\n            ) : level === 3 ? (\n              <BatteryCharging50Icon fontSize=\"small\" />\n            ) : level === 4 ? (\n              <BatteryCharging60Icon fontSize=\"small\" />\n            ) : level === 5 ? (\n              <BatteryCharging80Icon fontSize=\"small\" />\n            ) : level === 6 ? (\n              <BatteryCharging90Icon fontSize=\"small\" />\n            ) : level >= 7 ? (\n              <BatteryChargingFullIcon fontSize=\"small\" />\n            ) : (\n              <BatteryAlertIcon fontSize=\"small\" />\n            )}\n          </div>\n          <span\n            style={{\n              visibility:\n                this.props.display === \"test-common\" ? \"hidden\" : \"inherit\",\n            }}\n          >\n            <div>\n              {word.romaji && (\n                <TinyContentTag title=\"ローマ字:\">{word.romaji}</TinyContentTag>\n              )}\n              {word.wapuro && (\n                <TinyContentTag title=\"ワープロ:\">{word.wapuro}</TinyContentTag>\n              )}\n            </div>\n            <div>\n              {word.alternatives.length > 0 && (\n                <TinyContentTag title=\"同:\">\n                  {word.alternatives.map(furigana => (\n                    <span dangerouslySetInnerHTML={{ __html: furigana }} />\n                  ))}\n                </TinyContentTag>\n              )}\n              {word.uncommons.length > 0 && (\n                <TinyContentTag title=\"珍:\">\n                  {word.uncommons.map(furigana => (\n                    <span dangerouslySetInnerHTML={{ __html: furigana }} />\n                  ))}\n                </TinyContentTag>\n              )}\n            </div>\n            <div>\n              {word.pos.includes(\"KANA\") && <TinyTag>仮名</TinyTag>}\n              {word.pos.includes(\"HIRAGANA\") && <TinyTag>平仮名</TinyTag>}\n              {word.pos.includes(\"KATAKANA\") && <TinyTag>片仮名</TinyTag>}\n              {word.pos.includes(\"DAKUON\") && <TinyTag>濁音</TinyTag>}\n              {word.pos.includes(\"YOON\") && <TinyTag>拗音</TinyTag>}\n              {word.pos.includes(\"CHOON\") && <TinyTag>長音</TinyTag>}\n              {word.pos.includes(\"VERB\") && <TinyTag>動詞</TinyTag>}\n              {word.pos.includes(\"GODAN\") && <TinyTag>五段活用</TinyTag>}\n              {word.pos.includes(\"KAMIICHIDAN\") && (\n                <TinyTag>上一段活用</TinyTag>\n              )}\n              {word.pos.includes(\"SHIMOICHIDAN\") && (\n                <TinyTag>下一段活用</TinyTag>\n              )}\n              {word.pos.includes(\"SAHEN\") && <TinyTag>サ変</TinyTag>}\n              {word.pos.includes(\"KAHEN\") && <TinyTag>カ変</TinyTag>}\n              {word.pos.includes(\"JIDOSHI\") && <TinyTag>自動詞</TinyTag>}\n              {word.pos.includes(\"TADOSHI\") && <TinyTag>他動詞</TinyTag>}\n              {word.pos.includes(\"ADJ\") && <TinyTag>形容詞</TinyTag>}\n              {word.pos.includes(\"KEIYODOSHI\") && <TinyTag>形容動詞</TinyTag>}\n              {word.pos.includes(\"NOUN\") && <TinyTag>名詞</TinyTag>}\n              {word.pos.includes(\"PROPER\") && <TinyTag>固有名詞</TinyTag>}\n              {word.pos.includes(\"PRON\") && <TinyTag>代名詞</TinyTag>}\n              {word.pos.includes(\"RENTAISHI\") && <TinyTag>連体詞</TinyTag>}\n              {word.pos.includes(\"ADV\") && <TinyTag>副詞</TinyTag>}\n              {word.pos.includes(\"CONJ\") && <TinyTag>接続詞</TinyTag>}\n              {word.pos.includes(\"INTERJ\") && <TinyTag>感動詞</TinyTag>}\n              {word.pos.includes(\"JODOSHI\") && <TinyTag>助動詞</TinyTag>}\n              {word.pos.includes(\"JOSHI\") && <TinyTag>助詞</TinyTag>}\n              {word.pos.includes(\"IDIOM\") && <TinyTag>熟語</TinyTag>}\n              {level >= 0 && <TinyTag>練度{level}</TinyTag>}\n            </div>\n          </span>\n        </div>\n        <div className=\"word-card-translation\" style={{ color: statusColor }}>\n          <GoiUnorderedList>\n            {filteredTranslationsDictionarys.map(dictionaryName => (\n              <GoiTranslation\n                key={dictionaryName}\n                i18nTranslation={word.translations[dictionaryName]}\n                displayHint={this.props.display !== \"test-common\"}\n                from={dictionaryName}\n                displayFrom={this.props.display === \"detailed\"}\n              />\n            ))}\n          </GoiUnorderedList>\n        </div>\n        {this.props.display !== \"test-common\" && (\n          <div className=\"word-card-sentences\">\n            <GoiUnorderedList>\n              {filteredSentences.map((sentence, sentenceId) => (\n                <GoiSentence\n                  key={sentenceId}\n                  i18nSentence={sentence}\n                  displayFrom={this.props.display === \"detailed\"}\n                />\n              ))}\n            </GoiUnorderedList>\n          </div>\n        )}\n        {this.props.display === \"detailed\" && (\n          <div className=\"word-card-textbooks\">\n            {word.textbook.map((textbook, textbookId) => (\n              <TinyTag key={textbookId}>{textbook}</TinyTag>\n            ))}\n          </div>\n        )}\n      </div>\n    )\n  }\n}\n\nexport default JaWordCard\n","import React from \"react\"\nimport { useMediaQuery, useTheme } from \"@material-ui/core\"\nimport Dialog, { DialogProps } from \"@material-ui/core/Dialog\"\nimport { isWidthDown } from \"@material-ui/core/withWidth\"\n\nconst ResponsiveDialog = (props: DialogProps) => {\n  const smDown = useMediaQuery(useTheme().breakpoints.down(\"xs\"))\n  // return (\n  //   <Dialog {...props} fullScreen={smDown}>\n  //     {props.children}\n  //   </Dialog>\n  // )\n  return (\n    <Dialog {...props} PaperProps={{ style: { margin: \"10px\" } }}>\n      {props.children}\n    </Dialog>\n  )\n}\n\nexport default ResponsiveDialog\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport JaWordCard from \"../components/WordCards/JaWordCard\"\nimport * as PoiUser from \"../utils/PoiUser\"\nimport { LazyInitUserAction } from \"../actions/GoiUserActions\"\nimport { LazyInitSavingAction } from \"../actions/GoiSavingActions\"\nimport {\n  VerifyAnswerAction,\n  ShowNextWordAction,\n  UpdateIsTypingAction,\n} from \"../actions/GoiTesterActions\"\nimport { GoiSavingId, GoiJudgeResult } from \"../types/GoiTypes\"\nimport Helmet from \"react-helmet\"\nimport { GoiWordType, GoiJaWordType } from \"../types/GoiDictionaryTypes\"\nimport { RootStateType } from \"../states/RootState\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport { Action } from \"redux\"\nimport Heap from \"../algorithm/Heap\"\nimport {\n  GoiWordRecordDataType,\n  GoiSavingDataType,\n  GoiWordRecord,\n} from \"../models/GoiSaving\"\nimport {\n  TextField,\n  InputAdornment,\n  IconButton,\n  Button,\n  Dialog,\n  DialogTitle,\n  DialogActions,\n} from \"@material-ui/core\"\nimport SpellcheckIcon from \"@material-ui/icons/SpellcheckOutlined\"\nimport KeyboardReturnIcon from \"@material-ui/icons/KeyboardReturnOutlined\"\nimport RedoIcon from \"@material-ui/icons/RedoOutlined\"\nimport ForwardIcon from \"@material-ui/icons/ForwardOutlined\"\nimport MoreVertIcon from \"@material-ui/icons/MoreVertOutlined\"\nimport MoreHorizIcon from \"@material-ui/icons/MoreHorizOutlined\"\nimport LinkOffIcon from \"@material-ui/icons/LinkOffOutlined\"\nimport ExposurePlus1Icon from \"@material-ui/icons/ExposurePlus1Outlined\"\nimport ExposurePlus2Icon from \"@material-ui/icons/ExposurePlus2Outlined\"\nimport ReportProblemIcon from \"@material-ui/icons/ReportProblemOutlined\"\nimport { display } from \"@material-ui/system\"\nimport { withTranslation, WithTranslation } from \"react-i18next\"\nimport DebugModule from \"debug\"\nimport { UpdateEnableScrollAction } from \"../actions/LayoutActions\"\nimport ResponsiveDialog from \"../components/ResponsiveDialog\"\nconst debug = DebugModule(\"PoiGoi:GoiTester\")\n\ntype GoiTesterPropsType = ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps> &\n  WithTranslation\ninterface GoiTesterStateType {\n  testerInput: string\n  displayDetail: boolean\n  isReportWordDialogOpened: boolean\n}\nexport class GoiTester extends React.Component<\n  GoiTesterPropsType,\n  GoiTesterStateType\n> {\n  constructor(props: GoiTesterPropsType) {\n    super(props)\n    this.state = {\n      testerInput: \"\",\n      displayDetail: false,\n      isReportWordDialogOpened: false,\n    }\n  }\n  JudgeInputElement: HTMLInputElement | null = null\n  async componentDidMount() {\n    debug(\"Lasy init user\")\n    const poiUserId = (await this.props.lazyInitUser()) as PoiUser.PoiUserId\n    debug(\"Lasy init saving\")\n    const savingId = await this.props.lazyInitSaving({ poiUserId })\n    await this.props.showNextWord({ poiUserId, savingId })\n  }\n  requestJudge = async ({\n    skip,\n    forceLevelChange,\n  }: { skip?: boolean; forceLevelChange?: number } = {}) => {\n    const { poiUserId, savingId } = this.props\n    const word: GoiJaWordType = this.props.currentWord.toJS()\n    const judgeResult = await this.props.judgeAnswer(\n      {\n        answer: this.state.testerInput,\n        word,\n        skip,\n        forceLevelChange,\n      },\n      {\n        poiUserId,\n        savingId,\n      }\n    )\n    this.setState({ testerInput: \"\" })\n    if (\n      judgeResult === \"Correct\" ||\n      judgeResult === \"Accepted\" ||\n      judgeResult === \"Skipped\"\n    ) {\n      await this.requestNext()\n    }\n  }\n  requestNext = async ({ forget }: { forget?: boolean } = {}) => {\n    forget = typeof forget !== \"undefined\" ? forget : false\n    const {\n      poiUserId,\n      savingId,\n      currentWordKey,\n      learnedCandidates,\n      prioritiedCandidates,\n      pendingCandidates,\n    } = this.props\n    if (forget) {\n      await GoiWordRecord(poiUserId, savingId, currentWordKey).Forget()\n    }\n    await this.props.showNextWord(\n      { poiUserId, savingId },\n      {\n        ...(!forget && { currentWordKey }),\n        learnedCandidates,\n        prioritiedCandidates,\n        pendingCandidates,\n      }\n    )\n    this.setState({ testerInput: \"\", displayDetail: false })\n  }\n  render() {\n    const { t, i18n } = this.props\n    const word: GoiJaWordType = this.props.currentWord.toJS()\n    const savingLanguage =\n      this.props.saving && this.props.saving.Language\n        ? this.props.saving.Language\n        : \"en\"\n    const wordCardStatus =\n      this.props.judgeResult === \"Pending\"\n        ? \"input\"\n        : this.props.judgeResult === \"Correct\"\n        ? \"perfect\"\n        : this.props.judgeResult === \"Accepted\"\n        ? \"good\"\n        : this.props.judgeResult === \"Rejected\"\n        ? \"warning\"\n        : this.props.judgeResult === \"Wrong\"\n        ? \"failed\"\n        : \"review\"\n    const wordCardDisplay =\n      this.props.judgeResult === \"Pending\"\n        ? \"test-common\"\n        : this.state.displayDetail\n        ? \"detailed\"\n        : \"simple\"\n    return (\n      <div className=\"goi-tester\">\n        <Helmet>\n          {savingLanguage.startsWith(\"ja\") ? (\n            this.props.judgeResult === \"Pending\" ? (\n              <title>{t(\"PageTitleWhenEmptyForJaLearner\", \"PoiGoi\")}</title>\n            ) : (\n              <title>\n                {t(\"PageTitleWhenWordIsDisplayedForJaLearner\", {\n                  defaultValue: \"PoiGoi - {{wordkey}}\",\n                  wordkey: word.key,\n                })}\n              </title>\n            )\n          ) : this.props.judgeResult === \"Pending\" ? (\n            <title>{t(\"PageTitleWhenEmpty\", \"PoiGoi\")}</title>\n          ) : (\n            <title>\n              {t(\"PageTitleWhenWordIsDisplayed\", {\n                defaultValue: \"PoiGoi - {{wordkey}}\",\n                wordkey: word.key,\n              })}\n            </title>\n          )}\n        </Helmet>\n        <div\n          style={{\n            height: \"50px\", // avoid wechat \"No password\" tip\n          }}\n        />\n        <div style={{ display: \"flex\" }}>\n          <TextField\n            label={t(\"MainInputLabel\", \"Justify your answer\")}\n            variant=\"outlined\"\n            value={this.state.testerInput}\n            style={{ flexGrow: 1 }}\n            onFocus={() => {\n              this.props.updateIsTyping({ isTyping: true })\n            }}\n            onBlur={() => {\n              this.props.updateIsTyping({ isTyping: false })\n            }}\n            onChange={e => {\n              this.setState({ testerInput: e.target.value })\n            }}\n            InputProps={{\n              placeholder:\n                this.props.judgeResult === \"Rejected\" ||\n                this.props.judgeResult === \"Wrong\"\n                  ? t(\n                      \"MainInputWrongPlaceholder\",\n                      \"Type correct answer to continue\"\n                    )\n                  : savingLanguage.startsWith(\"ja\")\n                  ? t(\n                      \"MainInputPendingPlaceholderForJaLearner\",\n                      \"Use japanese IME\"\n                    )\n                  : t(\"MainInputPendingPlaceholder\", \"Type your answer here\"),\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <IconButton\n                    aria-label=\"Request judge\"\n                    edge=\"end\"\n                    onClick={() => this.requestJudge()}\n                  >\n                    <KeyboardReturnIcon />\n                  </IconButton>\n                </InputAdornment>\n              ),\n              onKeyDown: e => {\n                if (e.key === \"Enter\") {\n                  this.requestJudge()\n                }\n              },\n            }}\n          ></TextField>\n          {this.props.judgeResult === \"Pending\" ? (\n            <Button\n              size=\"small\"\n              aria-label=\"Skip current word\"\n              onClick={() => this.requestJudge({ skip: true })}\n            >\n              {t(\"SkipWordButtonText\", \"Skip\")}\n              <RedoIcon fontSize=\"small\" />\n            </Button>\n          ) : (\n            <Button\n              size=\"small\"\n              aria-label=\"Show next word\"\n              onClick={() => this.requestNext()}\n            >\n              {t(\"NextWordButtonText\", \"Skip\")}\n              <ForwardIcon fontSize=\"small\" />\n            </Button>\n          )}\n        </div>\n        <div\n          style={{\n            overflowY: \"auto\",\n            maxHeight: this.props.isTyping\n              ? \"calc(100vh - 120px)\"\n              : \"calc(100vh - 200px)\",\n          }}\n        >\n          <JaWordCard\n            word={word}\n            display={wordCardDisplay}\n            status={wordCardStatus}\n            {...(this.props.currentLevel !== null && {\n              level: this.props.currentLevel,\n            })}\n          />\n        </div>\n        {!wordCardDisplay.startsWith(\"test\") && (\n          <div\n            className=\"word-card-actions\"\n            style={{ display: \"flex\", flexShrink: 0 }}\n          >\n            {!this.state.displayDetail && (\n              <Button\n                size=\"small\"\n                aria-label=\"detail\"\n                onClick={() => {\n                  this.setState({ displayDetail: true })\n                  // this.props.enableScroll({ enableScroll: true })\n                }}\n                style={{ color: \"gray\" }}\n              >\n                <MoreHorizIcon fontSize=\"small\" />\n                {t(\"WordDetailButtonText\", \"Detail\")}\n              </Button>\n            )}\n            {this.state.displayDetail && (\n              <Button\n                size=\"small\"\n                aria-label=\"forget\"\n                onClick={() => {\n                  this.requestNext({ forget: true })\n                }}\n                style={{ color: \"gray\" }}\n              >\n                <LinkOffIcon fontSize=\"small\" />\n                {t(\"ForgetWordButtonText\", \"Forget\")}\n              </Button>\n            )}\n            {this.state.displayDetail && this.props.forcedWordKey !== word.key && (\n              <Button\n                size=\"small\"\n                aria-label=\"level plus one\"\n                onClick={() => this.requestJudge({ forceLevelChange: 1 })}\n                style={{ color: \"gray\" }}\n              >\n                <ExposurePlus1Icon fontSize=\"small\" />\n                {t(\"LevelPlusOneButtonText\", \"Level\")}\n              </Button>\n            )}\n            {this.state.displayDetail && this.props.forcedWordKey !== word.key && (\n              <Button\n                size=\"small\"\n                aria-label=\"level plus two\"\n                onClick={() => this.requestJudge({ forceLevelChange: 2 })}\n                style={{ color: \"gray\" }}\n              >\n                <ExposurePlus2Icon fontSize=\"small\" />\n                {t(\"LevelPlusTwoButtonText\", \"Level\")}\n              </Button>\n            )}\n            {this.state.displayDetail && (\n              <Button\n                size=\"small\"\n                aria-label=\"report wrong word\"\n                onClick={() => {\n                  this.setState({ isReportWordDialogOpened: true })\n                }}\n                style={{ color: \"gray\" }}\n              >\n                <ReportProblemIcon fontSize=\"small\" />\n                {t(\"ReportWordButtonText\", \"Report\")}\n              </Button>\n            )}\n          </div>\n        )}\n        <ResponsiveDialog open={this.state.isReportWordDialogOpened}>\n          {i18n.language.startsWith(\"zh\") ? (\n            <iframe\n              width=\"640px\"\n              height=\"480px\"\n              src=\"https://forms.office.com/Pages/ResponsePage.aspx?id=HO2aql64JEqeASBBMrBBF9_J_XUtkrhFhjg9N756g3xUNTBIMThERkFCT0JDS1JSOFhLSk45WFJKMyQlQCN0PWcu&embed=true\"\n              frameBorder={0}\n              marginWidth={0}\n              marginHeight={0}\n              style={{ border: \"none\", maxWidth: \"100%\", maxHeight: \"100vh\" }}\n              allowFullScreen\n            ></iframe>\n          ) : (\n            <iframe\n              width=\"640px\"\n              height=\"480px\"\n              src=\"https://forms.office.com/Pages/ResponsePage.aspx?id=HO2aql64JEqeASBBMrBBF9_J_XUtkrhFhjg9N756g3xUQTNBQUU2NllVUzdZRlcxMzM5Tk1JMkREUCQlQCN0PWcu&embed=true\"\n              frameBorder={0}\n              marginWidth={0}\n              marginHeight={0}\n              style={{ border: \"none\", maxWidth: \"100%\", maxHeight: \"100vh\" }}\n              allowFullScreen\n            ></iframe>\n          )}\n          <DialogActions>\n            <Button\n              onClick={() => {\n                this.setState({ isReportWordDialogOpened: false })\n              }}\n            >\n              {t(\"CloseReportWordButtonText\", \"Close\")}\n            </Button>\n          </DialogActions>\n        </ResponsiveDialog>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state: RootStateType) => {\n  debug(\"GoiTester state: \", state)\n  const props = {\n    isTyping: state.GoiTester.get(\"IsTyping\") as boolean,\n    poiUserId: state.GoiUser.get(\"PoiUserId\") as PoiUser.PoiUserId,\n    savingId: state.GoiSaving.get(\"SavingId\") as GoiSavingId,\n    currentWord: state.GoiTester.get(\"CurrentWord\"),\n    currentWordKey: state.GoiTester.getIn([\"CurrentWord\", \"key\"]) as string,\n    currentLevel: state.GoiTester.has(\"Record\")\n      ? (state.GoiTester.getIn([\"Record\", \"Level\"]) as number)\n      : null,\n    judgeResult: state.GoiTester.get(\"JudgeResult\") as GoiJudgeResult,\n    forcedWordKey: state.GoiTester.get(\"ForcedWordKey\") as string,\n    saving: state.GoiSaving.get(\"Saving\") as\n      | GoiSavingDataType\n      | null\n      | undefined,\n    learnedCandidates: state.GoiTester.get(\"LearnedCandidates\"),\n    prioritiedCandidates: state.GoiTester.get(\"PrioritiedCandidates\"),\n    pendingCandidates: state.GoiTester.get(\"PendingCandidates\"),\n  }\n  debug(\"GoiTester props: \", props)\n  return props\n}\nconst mapDispatchToProps = (\n  dispatch: ThunkDispatch<RootStateType, void, Action>\n) => {\n  return {\n    lazyInitUser: () => dispatch(LazyInitUserAction()),\n    lazyInitSaving: ({ poiUserId }: { poiUserId: PoiUser.PoiUserId }) =>\n      dispatch(LazyInitSavingAction({ poiUserId })),\n    updateIsTyping: ({ isTyping }: { isTyping: boolean }) =>\n      dispatch(UpdateIsTypingAction({ isTyping })),\n    enableScroll: ({ enableScroll }: { enableScroll: boolean }) =>\n      dispatch(UpdateEnableScrollAction({ enableScroll })),\n    showNextWord: (\n      {\n        poiUserId,\n        savingId,\n      }: { poiUserId: PoiUser.PoiUserId; savingId: GoiSavingId },\n      {\n        currentWordKey,\n        learnedCandidates,\n        prioritiedCandidates,\n        pendingCandidates,\n      }: {\n        currentWordKey?: string\n        learnedCandidates?: Heap<GoiWordRecordDataType>\n        prioritiedCandidates?: Heap<GoiWordRecordDataType>\n        pendingCandidates?: Heap<GoiWordRecordDataType>\n      } = {}\n    ) =>\n      dispatch(\n        ShowNextWordAction(\n          { poiUserId, savingId },\n          {\n            currentWordKey,\n            learnedCandidates,\n            prioritiedCandidates,\n            pendingCandidates,\n          }\n        )\n      ),\n    judgeAnswer: (\n      {\n        answer,\n        word,\n        skip,\n        forceLevelChange,\n      }: {\n        answer: string\n        word: GoiWordType\n        skip?: boolean\n        forceLevelChange?: number\n      },\n      {\n        poiUserId,\n        savingId,\n      }: {\n        poiUserId: PoiUser.PoiUserId\n        savingId: GoiSavingId\n      }\n    ) =>\n      dispatch(\n        VerifyAnswerAction(\n          { answer, word, skip, forceLevelChange },\n          { poiUserId, savingId }\n        )\n      ),\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withTranslation(\"GoiTester\")(GoiTester))\n","import { LocaleCode, I18nString } from \"../types/PoiI18nTypes\"\n\nexport const LookUp = (i18nString: I18nString, locale: LocaleCode) => {\n  // TODO(nagi): Write better lookup\n  if (locale.startsWith(\"zh\")) {\n    if (i18nString.zh) {\n      return i18nString.zh\n    }\n  }\n  if (locale.startsWith(\"ja\")) {\n    if (i18nString.ja) {\n      return i18nString.ja\n    }\n  }\n  return i18nString.en || \"\"\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport {\n  TextField,\n  Container,\n  Dialog,\n  InputAdornment,\n  IconButton,\n  Typography,\n  Divider,\n  List as MuiList,\n  ListItem as MuiListItem,\n  ListItemText as MuiListItemText,\n  ListItemSecondaryAction as MuiListItemSecondaryAction,\n  Button,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  useMediaQuery,\n  FormControlLabel,\n  Checkbox,\n} from \"@material-ui/core\"\nimport SearchIcon from \"@material-ui/icons/SearchOutlined\"\nimport * as PoiUser from \"../utils/PoiUser\"\nimport {\n  DisplayWordAdderAction,\n  AddPendingQueryAction,\n  AddPendingQuerysAction,\n  RemovePendingQueryAction,\n  AddWordsFromQuerysAction,\n  ClearPendingWordsAction,\n  CountSubtotalAction,\n  UpdateFilterAction,\n  RefreshWordAdderAction,\n  ChangeFilterAction,\n  BasicPos,\n} from \"../actions/WordAdderActions\"\nimport {\n  WordAdderSuggestionQueryType,\n  WordAdderQueryCountersType,\n  WordAdderPendingQueryType,\n  WordAdderQueryType,\n  WordFilterType,\n} from \"../states/WordAdderState\"\nimport { GoiSavingId } from \"../types/GoiTypes\"\nimport { RootStateType } from \"../states/RootState\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport { Action } from \"redux\"\nimport { ShowNextWordAction } from \"../actions/GoiTesterActions\"\nimport DeleteIcon from \"@material-ui/icons/DeleteOutlined\"\nimport AddIcon from \"@material-ui/icons/AddOutlined\"\nimport CloseIcon from \"@material-ui/icons/CloseOutlined\"\nimport ExploreOffIcon from \"@material-ui/icons/ExploreOffOutlined\"\nimport { useTheme } from \"@material-ui/styles\"\nimport ResponsiveDialog from \"../components/ResponsiveDialog\"\nimport { I18nString } from \"../types/PoiI18nTypes\"\nimport { withTranslation, WithTranslation } from \"react-i18next\"\nimport { LookUp } from \"../utils/PoiI18n\"\nimport { LocaleCode } from \"../types/PoiI18nTypes\"\nimport DebugModule from \"debug\"\nconst debug = DebugModule(\"PoiGoi:WordAdder\")\n\ntype WordAdderPropsType = ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps> &\n  WithTranslation\ninterface WordAdderStateType {\n  customQuery: string\n  addingWordsProgress: boolean\n}\nconst QueryRegexPopup = ({ regex }: { regex: string }) => {\n  return <span style={{ color: \"gray\", fontSize: \"0.5rem\" }}>/{regex}/</span>\n}\nexport class WordAdder extends React.Component<\n  WordAdderPropsType,\n  WordAdderStateType\n> {\n  constructor(props: WordAdderPropsType) {\n    super(props)\n    this.state = { customQuery: \"\", addingWordsProgress: false }\n  }\n  getSuggestionQuerys = (): string[] => {\n    const suggestions: WordAdderSuggestionQueryType[] = this.props.suggestions.toJS()\n    return suggestions.map(suggestion => suggestion.Query)\n  }\n  getPendingQuerys = (): string[] => {\n    const pendings: WordAdderPendingQueryType[] = this.props.pendings.toJS()\n    return pendings.map(pending => pending.Query)\n  }\n  addSuggestion = async (\n    suggestion: WordAdderSuggestionQueryType\n  ): Promise<void> => {\n    const { poiUserId, savingId } = this.props\n    const filter: WordFilterType = this.props.filter.toJS()\n    if (Array.isArray(suggestion.SubQuerys)) {\n      await this.props.addPendingQuerys({\n        querys: [\n          ...suggestion.SubQuerys,\n          { Display: suggestion.Display, Query: suggestion.Query },\n        ],\n        filter,\n        poiUserId,\n        savingId,\n      })\n    }\n    await this.props.countSubtotal({\n      querys: [\n        ...this.getPendingQuerys(),\n        ...(suggestion.SubQuerys || []).map(query => query.Query),\n      ],\n      filter: this.props.filter.toJS(),\n      poiUserId,\n      savingId,\n    })\n  }\n  clearAllPendingQuerys = async () => {\n    await Promise.all(\n      this.getPendingQuerys().map(query =>\n        this.props.removePendingQuery({ query })\n      )\n    )\n  }\n  onClickConfirm = async () => {\n    const { poiUserId, savingId } = this.props\n    const filter: WordFilterType = this.props.filter.toJS()\n    this.setState({ addingWordsProgress: true })\n    await this.props.addWordsFromQuerys({\n      querys: this.getPendingQuerys(),\n      filter,\n      poiUserId,\n      savingId,\n    })\n    this.setState({ addingWordsProgress: false })\n    this.props.close()\n    await this.clearAllPendingQuerys()\n    await this.props.showNextWord(poiUserId, savingId)\n  }\n  addCustomQuery = async () => {\n    const { poiUserId, savingId } = this.props\n    const filter: WordFilterType = this.props.filter.toJS()\n    const query = this.state.customQuery.trim()\n    await this.props.addPendingQuery({\n      display: { en: \"Custom\", zh: \"自定义搜索条件\" },\n      query,\n      filter,\n      poiUserId,\n      savingId,\n    })\n    await this.props.countSubtotal({\n      querys: [...this.getPendingQuerys(), query],\n      filter,\n      poiUserId,\n      savingId,\n    })\n  }\n  onClickRemovePendingQuery = async ({ query }: { query: string }) => {\n    const { poiUserId, savingId } = this.props\n    await this.props.removePendingQuery({ query })\n    const newPendingQuerys = this.getPendingQuerys().filter(\n      pendingQuery => pendingQuery != query\n    )\n    await this.props.countSubtotal({\n      querys: newPendingQuerys,\n      filter: this.props.filter.toJS(),\n      poiUserId,\n      savingId,\n    })\n  }\n  render() {\n    const { t, i18n } = this.props\n    const { poiUserId, savingId } = this.props\n    const filter: WordFilterType = this.props.filter.toJS()\n    const includedBasicPos = BasicPos.filter(pos =>\n      filter.AcceptPos.includes(pos)\n    )\n    const isBasicFilterChecked =\n      includedBasicPos.length === 0\n        ? false\n        : includedBasicPos.length === BasicPos.length\n        ? true\n        : null\n    const { learnedCount, prioritiedCount, pendingCount } = {\n      learnedCount: this.props.status.get(\"LearnedCount\") as number,\n      prioritiedCount: this.props.status.get(\"PrioritiedCount\") as number,\n      pendingCount: this.props.status.get(\"PendingCount\") as number,\n    }\n    const suggestions: WordAdderSuggestionQueryType[] = this.props.suggestions.toJS()\n    const pendings: WordAdderPendingQueryType[] = this.props.pendings.toJS()\n    const counters: WordAdderQueryCountersType = this.props.counters.toJS()\n    return (\n      <ResponsiveDialog className=\"word-adder\" open={this.props.display}>\n        <DialogTitle>{t(\"WordAdderTitle\", \"Add words\")}</DialogTitle>\n        <DialogContent dividers>\n          <MuiList dense={true}>\n            <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n              <TextField\n                label={t(\"SavingStatusLearnedCountLabel\", \"Learned\")}\n                value={learnedCount >= 0 ? learnedCount : \"...\"}\n                margin=\"none\"\n                style={{ marginRight: \"10px\", flex: 1 }}\n                InputProps={{ readOnly: true }}\n              ></TextField>\n              <TextField\n                label={t(\"SavingStatusPrioritiedCountLabel\", \"Prioritied\")}\n                value={prioritiedCount >= 0 ? prioritiedCount : \"...\"}\n                margin=\"none\"\n                style={{ marginRight: \"10px\", flex: 1 }}\n                InputProps={{ readOnly: true }}\n              ></TextField>\n              <TextField\n                label={t(\"SavingStatusPendingCountLabel\", \"Pending\")}\n                value={pendingCount >= 0 ? pendingCount : \"...\"}\n                margin=\"none\"\n                style={{ flex: 1 }}\n                InputProps={{\n                  readOnly: true,\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <IconButton\n                        size=\"small\"\n                        aria-label=\"Clear pending words\"\n                        onClick={() =>\n                          this.props.clearPendingWords({\n                            poiUserId,\n                            savingId,\n                          })\n                        }\n                      >\n                        <DeleteIcon />\n                      </IconButton>\n                    </InputAdornment>\n                  ),\n                }}\n              ></TextField>\n            </div>\n            <MuiListItem></MuiListItem>\n            <Divider component=\"li\" />\n            <li>\n              <Typography display=\"block\" variant=\"caption\">\n                {t(\"SuggestionSectionTitle\", \"Suggested Word Querys\")}\n              </Typography>\n            </li>\n            {suggestions.map(suggestion => {\n              const {\n                TotalCount,\n                LearnedCount,\n                AddedCount,\n                NewCount,\n              } = counters[suggestion.Query]\n                ? counters[suggestion.Query]\n                : {\n                    TotalCount: -1,\n                    LearnedCount: -1,\n                    AddedCount: -1,\n                    NewCount: -1,\n                  }\n              return (\n                <MuiListItem key={`suggestion${suggestion.Query}`}>\n                  <MuiListItemText\n                    primary={\n                      <>\n                        {LookUp(\n                          suggestion.Display,\n                          i18n.language as LocaleCode\n                        )}\n                        <QueryRegexPopup regex={suggestion.Query} />\n                        {counters[suggestion.Query] &&\n                          t(\"CountQueryTotalResult\", {\n                            defaultValue: \" {{total}} words\",\n                            total: TotalCount >= 0 ? TotalCount : \"...\",\n                          })}\n                      </>\n                    }\n                    secondary={\n                      counters[suggestion.Query] ? (\n                        <>\n                          {t(\"CountSuggestionQueryResult\", {\n                            defaultValue:\n                              \"Learned {{learned}} | Added {{added}} | New {{new}}\",\n                            learned: LearnedCount >= 0 ? LearnedCount : \"...\",\n                            added: AddedCount >= 0 ? AddedCount : \"...\",\n                            new: NewCount >= 0 ? NewCount : \"...\",\n                          })}\n                        </>\n                      ) : null\n                    }\n                  ></MuiListItemText>\n                  <MuiListItemSecondaryAction>\n                    <IconButton\n                      edge=\"end\"\n                      aria-label=\"Add suggestion query\"\n                      onClick={() => this.addSuggestion(suggestion)}\n                    >\n                      <AddIcon />\n                    </IconButton>\n                  </MuiListItemSecondaryAction>\n                </MuiListItem>\n              )\n            })}\n            <div style={{ display: \"flex\" }}>\n              <TextField\n                label={t(\"CustomQueryInputLabel\", \"Custom Query\")}\n                variant=\"outlined\"\n                value={this.state.customQuery}\n                style={{ flexGrow: 1 }}\n                onChange={e => {\n                  this.setState({ customQuery: e.target.value })\n                }}\n                InputProps={{\n                  placeholder: t(\n                    \"CustomQueryInputPlaceholder\",\n                    \"(e.g. JLPT-N5) Accept RegExp\"\n                  ),\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <IconButton\n                        aria-label=\"add query\"\n                        edge=\"end\"\n                        onClick={() => this.addCustomQuery()}\n                      >\n                        <SearchIcon />\n                      </IconButton>\n                    </InputAdornment>\n                  ),\n                  onKeyDown: e => {\n                    if (e.key === \"Enter\") {\n                      this.addCustomQuery()\n                    }\n                  },\n                }}\n              ></TextField>\n            </div>\n            <MuiListItem></MuiListItem>\n            <Divider component=\"li\" />\n            <li>\n              <Typography display=\"block\" variant=\"caption\">\n                {t(\"WordsToAddSectionTitle\", \"Words to add (Order matters)\")}\n              </Typography>\n            </li>\n            {pendings.length ? (\n              <>\n                <MuiListItem key=\"ClearAllPendingQuerys\">\n                  <MuiListItemText\n                    primary={t(\"CountTotalPendingWords\", {\n                      defaultValue: \"Total new: {{new}}\",\n                      new:\n                        this.props.subtotal >= 0 ? this.props.subtotal : \"...\",\n                    })}\n                    secondary={t(\n                      \"ClearAllPendingsItemText\",\n                      \"Click right button to clear list\"\n                    )}\n                  ></MuiListItemText>\n                  <MuiListItemSecondaryAction>\n                    <IconButton\n                      edge=\"end\"\n                      aria-label=\"clear all pending query\"\n                      onClick={() => this.clearAllPendingQuerys()}\n                    >\n                      <ExploreOffIcon />\n                    </IconButton>\n                  </MuiListItemSecondaryAction>\n                </MuiListItem>\n                {pendings.map(pending => {\n                  const {\n                    TotalCount,\n                    LearnedCount,\n                    AddedCount,\n                    NewCount,\n                  } = counters[pending.Query]\n                    ? counters[pending.Query]\n                    : {\n                        TotalCount: -1,\n                        LearnedCount: -1,\n                        AddedCount: -1,\n                        NewCount: -1,\n                      }\n                  return (\n                    <MuiListItem key={`pending${pending.Query}`}>\n                      <MuiListItemText\n                        primary={\n                          <>\n                            {LookUp(\n                              pending.Display,\n                              i18n.language as LocaleCode\n                            )}\n                            <QueryRegexPopup regex={pending.Query} />\n                            {counters[pending.Query] &&\n                              t(\"CountQueryTotalResult\", {\n                                defaultValue: \" {{total}} words\",\n                                total: TotalCount >= 0 ? TotalCount : \"...\",\n                              })}\n                          </>\n                        }\n                        secondary={\n                          counters[pending.Query] ? (\n                            <>\n                              {t(\"CountPendingQueryResult\", {\n                                defaultValue:\n                                  \"Learned {{learned}} | Added {{added}} | New {{new}}\",\n                                learned:\n                                  LearnedCount >= 0 ? LearnedCount : \"...\",\n                                added: AddedCount >= 0 ? AddedCount : \"...\",\n                                new: NewCount >= 0 ? NewCount : \"...\",\n                              })}\n                            </>\n                          ) : null\n                        }\n                      ></MuiListItemText>\n\n                      <MuiListItemSecondaryAction>\n                        <IconButton\n                          edge=\"end\"\n                          aria-label=\"remove pending query\"\n                          onClick={() =>\n                            this.onClickRemovePendingQuery({\n                              query: pending.Query,\n                            })\n                          }\n                        >\n                          <CloseIcon />\n                        </IconButton>\n                      </MuiListItemSecondaryAction>\n                    </MuiListItem>\n                  )\n                })}\n              </>\n            ) : (\n              <MuiListItem>\n                <MuiListItemText>\n                  {t(\"NoWordsItemPlaceholder\", \"No words to add\")}\n                </MuiListItemText>\n              </MuiListItem>\n            )}\n            <Divider component=\"li\" />\n            <li>\n              <Typography display=\"block\" variant=\"caption\">\n                {t(\"FiltersSectionTitle\", \"Filters\")}\n              </Typography>\n            </li>\n            <div style={{ display: \"flux\" }}>\n              <FormControlLabel\n                control={\n                  <Checkbox\n                    checked={isBasicFilterChecked === true}\n                    indeterminate={isBasicFilterChecked === null}\n                    onChange={e => {\n                      this.props.changeFilter({\n                        acceptBasic: e.target.checked,\n                      })\n                    }}\n                    value=\"BasicFilter\"\n                  />\n                }\n                label={t(\"BasicFilterLabel\", \"Basic\")}\n              />\n              <FormControlLabel\n                control={\n                  <Checkbox\n                    checked={filter.AcceptPos.includes(\"PROPER\")}\n                    onChange={e => {\n                      this.props.changeFilter({\n                        acceptPosFlags: { PROPER: e.target.checked },\n                      })\n                    }}\n                    value=\"ProperFilter\"\n                  />\n                }\n                label={t(\"ProperFilterLabel\", \"Proper\")}\n              />\n              <FormControlLabel\n                control={\n                  <Checkbox\n                    checked={filter.AcceptPos.includes(\"IDIOM\")}\n                    onChange={e => {\n                      this.props.changeFilter({\n                        acceptPosFlags: { IDIOM: e.target.checked },\n                      })\n                    }}\n                    value=\"IdiomFilter\"\n                  />\n                }\n                label={t(\"IdiomFilterLabel\", \"Idiom\")}\n              />\n              <FormControlLabel\n                control={\n                  <Checkbox\n                    checked={filter.AcceptExtra}\n                    value=\"ExtraFilter\"\n                    onChange={e => {\n                      this.props.changeFilter({\n                        acceptExtra: e.target.checked,\n                      })\n                    }}\n                  />\n                }\n                label={t(\"ExtraFilterLabel\", \"Extra\")}\n              />\n              <FormControlLabel\n                control={\n                  <Checkbox\n                    checked={filter.AcceptForgot}\n                    value=\"ForgotFilter\"\n                    onChange={e => {\n                      this.props.changeFilter({\n                        acceptForgot: e.target.checked,\n                      })\n                    }}\n                  />\n                }\n                label={t(\"ForgotFilterLabel\", \"Forgot\")}\n              />\n            </div>\n          </MuiList>\n        </DialogContent>\n        <DialogActions>\n          {this.state.addingWordsProgress ? (\n            <Button disabled>\n              {t(\"AddingWordsProgressText\", \"Adding words...\")}\n            </Button>\n          ) : (\n            <>\n              <Button onClick={() => this.props.close()}>\n                {t(\"WordAdderCancelButtonText\", \"Cancel\")}\n              </Button>\n              {pendings.length <= 0 ? (\n                <Button disabled>\n                  {t(\"NoPendingWordsPromptText\", \"No words\")}\n                </Button>\n              ) : (\n                <Button\n                  variant=\"outlined\"\n                  color=\"primary\"\n                  onClick={this.onClickConfirm}\n                >\n                  {t(\"WordAdderConfirmButtonText\", \"Add these words\")}\n                </Button>\n              )}\n            </>\n          )}\n        </DialogActions>\n      </ResponsiveDialog>\n    )\n  }\n}\n\nconst mapStateToProps = (state: RootStateType) => {\n  debug(\"WordAdderContainer state: \", state)\n  const props = {\n    display: state.WordAdder.get(\"Display\") as boolean,\n    status: state.WordAdder.get(\"Status\"),\n    suggestions: state.WordAdder.get(\"Suggestions\"),\n    pendings: state.WordAdder.get(\"Pendings\"),\n    counters: state.WordAdder.get(\"Counters\"),\n    filter: state.WordAdder.get(\"Filter\"),\n    subtotal: state.WordAdder.get(\"Subtotal\") as number,\n    saving: state.GoiSaving.get(\"Saving\"),\n    poiUserId: state.GoiUser.get(\"PoiUserId\") as PoiUser.PoiUserId,\n    savingId: state.GoiSaving.get(\"SavingId\") as GoiSavingId,\n  }\n  debug(\"WordAdderContainer props: \", props)\n  return props\n}\nconst mapDispatchToProps = (\n  dispatch: ThunkDispatch<RootStateType, void, Action>\n) => {\n  return {\n    clearPendingWords: ({\n      poiUserId,\n      savingId,\n    }: {\n      poiUserId: PoiUser.PoiUserId\n      savingId: GoiSavingId\n    }) => dispatch(ClearPendingWordsAction({ poiUserId, savingId })),\n    addPendingQuery: ({\n      display,\n      query,\n      filter,\n      poiUserId,\n      savingId,\n    }: {\n      display: I18nString\n      query: string\n      filter: WordFilterType\n      poiUserId: PoiUser.PoiUserId\n      savingId: GoiSavingId\n    }) =>\n      dispatch(\n        AddPendingQueryAction({ display, query, filter, poiUserId, savingId })\n      ),\n    addPendingQuerys: ({\n      querys,\n      filter,\n      poiUserId,\n      savingId,\n    }: {\n      querys: WordAdderQueryType[]\n      filter: WordFilterType\n      poiUserId: PoiUser.PoiUserId\n      savingId: GoiSavingId\n    }) =>\n      dispatch(AddPendingQuerysAction({ querys, filter, poiUserId, savingId })),\n    removePendingQuery: ({ query }: { query: string }) =>\n      dispatch(RemovePendingQueryAction({ query })),\n    addWordsFromQuerys: ({\n      querys,\n      filter,\n      poiUserId,\n      savingId,\n    }: {\n      querys: string[]\n      filter: WordFilterType\n      poiUserId: PoiUser.PoiUserId\n      savingId: GoiSavingId\n    }) =>\n      dispatch(\n        AddWordsFromQuerysAction({ querys, filter, poiUserId, savingId })\n      ),\n    close: () => dispatch(DisplayWordAdderAction({ display: false })),\n    showNextWord: (poiUserId: PoiUser.PoiUserId, savingId: GoiSavingId) =>\n      dispatch(ShowNextWordAction({ poiUserId, savingId })),\n    refreshWordAdder: () => dispatch(RefreshWordAdderAction()),\n    countSubtotal: ({\n      querys,\n      filter,\n      poiUserId,\n      savingId,\n    }: {\n      querys: string[]\n      filter: WordFilterType\n      poiUserId: PoiUser.PoiUserId\n      savingId: GoiSavingId\n    }) =>\n      dispatch(\n        CountSubtotalAction({\n          querys,\n          filter,\n          poiUserId,\n          savingId,\n        })\n      ),\n    changeFilter: ({\n      acceptBasic,\n      acceptPosFlags,\n      acceptExtra,\n      acceptForgot,\n    }: {\n      acceptBasic?: boolean\n      acceptPosFlags?: {\n        [pos: string]: boolean\n      }\n      acceptExtra?: boolean\n      acceptForgot?: boolean\n    }) =>\n      dispatch(\n        ChangeFilterAction({\n          acceptBasic,\n          acceptPosFlags,\n          acceptExtra,\n          acceptForgot,\n        })\n      ),\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withTranslation(\"WordAdder\")(WordAdder))\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport { withTranslation, WithTranslation } from \"react-i18next\"\nimport { Action } from \"redux\"\nimport { Button, GridList, GridListTile, IconButton } from \"@material-ui/core\"\nimport { SpeedDial, SpeedDialAction } from \"@material-ui/lab\"\nimport { navigate } from \"gatsby\"\nimport { RootStateType } from \"../states/RootState\"\nimport * as PoiUser from \"../utils/PoiUser\"\nimport { GoiSavingId } from \"../types/GoiTypes\"\nimport { ToggleEvents } from \"../utils/PoiResponsive\"\nimport { GoiWordRecordDataType, GoiSavingDataType } from \"../models/GoiSaving\"\nimport { ShowWordAdderAction } from \"../actions/WordAdderActions\"\nimport Heap from \"../algorithm/Heap\"\n\nimport AddIcon from \"@material-ui/icons/AddOutlined\"\nimport CloudOffIcon from \"@material-ui/icons/CloudOffOutlined\"\nimport CreateIcon from \"@material-ui/icons/CreateOutlined\"\nimport FingerprintIcon from \"@material-ui/icons/FingerprintOutlined\"\nimport FirstPageIcon from \"@material-ui/icons/FirstPageOutlined\"\nimport FlagIcon from \"@material-ui/icons/FlagOutlined\"\nimport FormatListNumberedIcon from \"@material-ui/icons/FormatListNumberedOutlined\"\nimport FormatQuoteIcon from \"@material-ui/icons/FormatQuoteOutlined\"\nimport HighlightIcon from \"@material-ui/icons/HighlightOutlined\"\nimport MenuIcon from \"@material-ui/icons/MenuOutlined\"\nimport MoreHorizIcon from \"@material-ui/icons/MoreHorizOutlined\"\nimport NavigateNextIcon from \"@material-ui/icons/NavigateNextOutlined\"\nimport PersonIcon from \"@material-ui/icons/PersonOutlined\"\nimport PlaylistPlayIcon from \"@material-ui/icons/PlaylistPlayOutlined\"\nimport SearchIcon from \"@material-ui/icons/SearchOutlined\"\nimport ShareIcon from \"@material-ui/icons/ShareOutlined\"\nimport ShuffleIcon from \"@material-ui/icons/ShuffleOutlined\"\nimport SmsIcon from \"@material-ui/icons/SmsOutlined\"\nimport SyncIcon from \"@material-ui/icons/SyncOutlined\"\nimport ThumbsUpDownIcon from \"@material-ui/icons/ThumbsUpDownOutlined\"\nimport VolumeOffIcon from \"@material-ui/icons/VolumeOffOutlined\"\nimport VolumeUpIcon from \"@material-ui/icons/VolumeUpOutlined\"\nimport RefreshIcon from \"@material-ui/icons/RefreshOutlined\"\nimport ExposureNeg1Icon from \"@material-ui/icons/ExposureNeg1Outlined\"\nimport DebugModule from \"debug\"\nimport { WordFilterType } from \"../states/WordAdderState\"\nconst debug = DebugModule(\"PoiGoi:CommandsBar\")\n\ntype CommandsBarPropsType = ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps> &\n  WithTranslation\ninterface CommandsBarStateType {\n  isMenuOpened: boolean\n  isCommandsExpanded: boolean\n}\n\nexport class CommandsBar extends React.Component<\n  CommandsBarPropsType,\n  CommandsBarStateType\n> {\n  commandsContainerRef = React.createRef<HTMLDivElement>()\n  constructor(props: any) {\n    super(props)\n    this.state = {\n      isMenuOpened: false,\n      isCommandsExpanded: false,\n    }\n  }\n  navigate(to: string) {\n    navigate(to, { replace: true })\n  }\n  openMenu = () => {\n    this.setState({ isMenuOpened: true })\n  }\n  closeMenu = () => {\n    this.setState({ isMenuOpened: false })\n  }\n  toggleMenu = (display?: boolean) => {\n    if (typeof display === \"undefined\") {\n      display = !this.state.isMenuOpened\n    }\n    this.setState({ isMenuOpened: display })\n  }\n  render() {\n    const { t } = this.props\n    const { poiUserId, savingId } = this.props\n    const filter: WordFilterType = this.props.filter.toJS()\n    const smDown: boolean =\n      typeof window !== \"undefined\" ? window.innerWidth < 600 : false\n    const savingLanguage =\n      this.props.saving && this.props.saving.Language\n        ? this.props.saving.Language\n        : \"en\"\n    return (\n      <div\n        className=\"commands-bar\"\n        style={{\n          visibility: smDown && this.props.isTyping ? \"hidden\" : \"inherit\",\n          position: \"fixed\",\n          bottom: \"20px\",\n          right: \"20px\",\n          display: \"inline-flex\",\n          alignItems: \"flex-end\",\n          maxWidth: \"calc(100vw - 20px)\",\n        }}\n      >\n        <div\n          style={{\n            display: \"flex\",\n            height: \"40px\",\n            marginBottom: \"8px\",\n          }}\n        >\n          <div\n            style={{\n              margin: \"auto\",\n            }}\n          >\n            {smDown && this.state.isCommandsExpanded && (\n              <IconButton\n                size=\"small\"\n                aria-label=\"Scroll command bar to left end\"\n                onClick={() => {\n                  this.commandsContainerRef.current &&\n                    this.commandsContainerRef.current.scrollTo({\n                      left: -10000,\n                      behavior: \"smooth\",\n                    })\n                }}\n              >\n                <FirstPageIcon fontSize=\"small\" />\n              </IconButton>\n            )}\n          </div>\n        </div>\n        <div\n          ref={this.commandsContainerRef}\n          style={{\n            display: \"flex\",\n            height: \"40px\",\n            marginTop: \"8px\",\n            marginBottom: \"8px\",\n            overflowX: \"auto\",\n            overflowY: \"hidden\",\n            direction: \"rtl\",\n          }}\n        >\n          <div style={{ display: \"inline-flex\", direction: \"ltr\" }}>\n            {this.state.isCommandsExpanded ? (\n              <Button\n                size=\"small\"\n                style={{ whiteSpace: \"nowrap\" }}\n                onClick={() => {\n                  this.setState({ isCommandsExpanded: false })\n                }}\n              >\n                {/* parse text or audio to add new words */}\n                {t(\"FoldButtonText\", \"Less\")}\n                <NavigateNextIcon fontSize=\"small\" />\n              </Button>\n            ) : (\n              <Button\n                size=\"small\"\n                style={{ whiteSpace: \"nowrap\" }}\n                onClick={() => {\n                  this.setState({ isCommandsExpanded: true })\n                }}\n              >\n                {/* parse text or audio to add new words */}\n                {t(\"ExpandButtonText\", \"More\")}\n                <MoreHorizIcon fontSize=\"small\" />\n              </Button>\n            )}\n            {this.state.isCommandsExpanded && (\n              <>\n                <Button size=\"small\" style={{ whiteSpace: \"nowrap\" }}>\n                  {/* parse text or audio to add new words */}\n                  [WIP]{t(\"ParseButtonText\", \"Parse\")}\n                  <FormatQuoteIcon fontSize=\"small\" />\n                </Button>\n                <Button size=\"small\" style={{ whiteSpace: \"nowrap\" }}>\n                  [WIP]{t(\"SearchButtonText\", \"Search\")}\n                  <SearchIcon fontSize=\"small\" />\n                </Button>\n                <Button size=\"small\" style={{ whiteSpace: \"nowrap\" }}>\n                  [WIP]{t(\"RevisitButtonText\", \"Revisit\")}\n                  <RefreshIcon fontSize=\"small\" />\n                  {false && <ExposureNeg1Icon fontSize=\"small\" />}\n                </Button>\n                <Button size=\"small\" style={{ whiteSpace: \"nowrap\" }}>\n                  [WIP]{t(\"OrderButtonText\", \"Order\")}\n                  <PlaylistPlayIcon fontSize=\"small\" />\n                  {false && <ShuffleIcon fontSize=\"small\" />}\n                </Button>\n                <Button size=\"small\" style={{ whiteSpace: \"nowrap\" }}>\n                  {/* type select swipe */}\n                  [WIP]{t(\"ModeButtonText\", \"Mode\")}\n                  <CreateIcon fontSize=\"small\" />\n                  {false && <FormatListNumberedIcon fontSize=\"small\" />}\n                  {false && <ThumbsUpDownIcon fontSize=\"small\" />}\n                </Button>\n                <Button size=\"small\" style={{ whiteSpace: \"nowrap\" }}>\n                  {/* swich savings in different mode */}\n                  [WIP]{t(\"SavingsButtonText\", \"Savings\")}\n                  <FingerprintIcon fontSize=\"small\" />\n                </Button>\n                <Button size=\"small\" style={{ whiteSpace: \"nowrap\" }}>\n                  [WIP]{t(\"AudioButtonText\", \"Audio\")}\n                  <VolumeOffIcon fontSize=\"small\" />\n                  {false && <VolumeUpIcon fontSize=\"small\" />}\n                </Button>\n                <Button size=\"small\" style={{ whiteSpace: \"nowrap\" }}>\n                  [WIP]{t(\"SwotUpButtonText\", \"SwotUp\")}\n                  <FlagIcon fontSize=\"small\" />\n                </Button>\n                <Button size=\"small\" style={{ whiteSpace: \"nowrap\" }}>\n                  [WIP]{t(\"SyncButtonText\", \"Sync\")}\n                  <CloudOffIcon fontSize=\"small\" />\n                  {false && <SyncIcon fontSize=\"small\" />}\n                </Button>\n              </>\n            )}\n            {/* TODO: outline the button when all words are learned */}\n            <Button\n              size=\"small\"\n              {...(this.props.pendingCandidates.isEmpty() && {\n                color: \"secondary\",\n                variant: \"outlined\",\n              })}\n              style={{ whiteSpace: \"nowrap\" }}\n              onClick={() => this.props.showWordAdder()}\n            >\n              {t(\"AddWordsButtonText\", \"Words\")}\n              <AddIcon fontSize=\"small\" />\n            </Button>\n          </div>\n        </div>\n        <SpeedDial\n          ariaLabel=\"menu\"\n          open={this.state.isMenuOpened}\n          // open={true}\n          icon={<MenuIcon fontSize=\"small\" />}\n          {...ToggleEvents(this.toggleMenu)}\n          ButtonProps={{\n            color: \"default\",\n            size: \"small\",\n            style: { background: \"white\", margin: \"8px\" },\n          }}\n        >\n          <SpeedDialAction\n            key=\"share\"\n            icon={<ShareIcon fontSize=\"small\" />}\n            tooltipTitle={\"[WIP]\" + t(\"ShareMenuButtonText\", \"Share\")}\n            tooltipOpen\n            onClick={() => {\n              this.closeMenu()\n              this.navigate(\"/\")\n            }}\n          ></SpeedDialAction>\n          <SpeedDialAction\n            key=\"tegami\"\n            icon={<SmsIcon fontSize=\"small\" />}\n            tooltipTitle={\n              savingLanguage.startsWith(\"ja\")\n                ? \"作者の手紙\"\n                : t(\"TegamiMenuButtonText\", \"作者の手紙\")\n            }\n            tooltipOpen\n            onClick={() => {\n              this.closeMenu()\n              this.navigate(\"/tegami/\")\n            }}\n          ></SpeedDialAction>\n          <SpeedDialAction\n            key=\"mamechishiki\"\n            icon={<HighlightIcon />}\n            tooltipTitle={\n              savingLanguage.startsWith(\"ja\")\n                ? \"豆知識\"\n                : t(\"MamechishikiMenuButtonText\", \"豆知識\")\n            }\n            tooltipOpen\n            onClick={() => {\n              this.closeMenu()\n              this.navigate(\"/mamechishiki/\")\n            }}\n          ></SpeedDialAction>\n          <SpeedDialAction\n            key=\"searchwords\"\n            icon={<SearchIcon />}\n            tooltipTitle={\"[WIP]\" + t(\"SearchMenuButtonText\", \"Search Words\")}\n            tooltipOpen\n            onClick={() => {\n              this.closeMenu()\n              this.navigate(\"/\")\n            }}\n          ></SpeedDialAction>\n          <SpeedDialAction\n            key=\"addwords\"\n            icon={<AddIcon />}\n            tooltipTitle={t(\"AddWordsMenuButtonText\", \"Add Words\")}\n            tooltipOpen\n            onClick={() => {\n              this.closeMenu()\n              this.props.showWordAdder()\n            }}\n          ></SpeedDialAction>\n          <SpeedDialAction\n            key=\"profile\"\n            icon={<PersonIcon />}\n            tooltipTitle={\n              \"[WIP]\" +\n              t(\"ProfileMenuButtonText\", \"Profile, statics and settings\")\n            }\n            tooltipOpen\n            onClick={() => {\n              this.closeMenu()\n              this.navigate(\"/profile/\")\n            }}\n          ></SpeedDialAction>\n        </SpeedDial>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state: RootStateType) => {\n  debug(\"CommandsBar state: \", state)\n  const props = {\n    filter: state.WordAdder.get(\"Filter\"),\n    poiUserId: state.GoiUser.get(\"PoiUserId\") as PoiUser.PoiUserId,\n    savingId: state.GoiSaving.get(\"SavingId\") as GoiSavingId,\n    saving: state.GoiSaving.get(\"Saving\") as\n      | GoiSavingDataType\n      | null\n      | undefined,\n    pendingCandidates: state.GoiTester.get(\"PendingCandidates\") as Heap<\n      GoiWordRecordDataType\n    >,\n    isTyping: state.GoiTester.get(\"IsTyping\") as boolean,\n  }\n  debug(\"CommandsBar props: \", props)\n  return props\n}\nconst mapDispatchToProps = (\n  dispatch: ThunkDispatch<RootStateType, void, Action>\n) => {\n  return {\n    showWordAdder: () => dispatch(ShowWordAdderAction()),\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withTranslation(\"CommandsBar\")(CommandsBar))\n","import React from \"react\"\nimport NavBar from \"../components/NavBar\"\nimport GoiTester from \"../containers/GoiTester\"\nimport WordAdder from \"../containers/WordAdder\"\nimport CommandsBar from \"../containers/CommandsBar\"\nimport Container from \"@material-ui/core/Container\"\nimport { Hidden } from \"@material-ui/core\"\nimport { poisky } from \"../utils/PoiColors\"\nimport { height } from \"@material-ui/system\"\nimport { RootStateType } from \"../states/RootState\"\nimport { connect } from \"react-redux\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport { Action } from \"redux\"\n\ntype IndexPagePropsType = ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>\nclass IndexPage extends React.Component<IndexPagePropsType> {\n  render() {\n    return (\n      // <div style={{ width: \"100%\", overflow: \"hidden\", position: \"fixed\" }}>\n      <div\n        className=\"goi-index-page\"\n        {...(!this.props.enableScroll && {\n          style: {\n            width: \"100%\",\n            height: \"100%\",\n            overflow: \"hidden\",\n            position: \"fixed\",\n          },\n        })}\n      >\n        <Hidden xsDown>\n          <NavBar />\n        </Hidden>\n        <Hidden smUp>\n          <div style={{ background: poisky, height: \"1px\" }} />\n        </Hidden>\n        <CommandsBar />\n        <main>\n          <WordAdder />\n          <Container>\n            <GoiTester />\n          </Container>\n        </main>\n        <div\n          className=\"buildVersion\"\n          style={{\n            position: \"absolute\",\n            bottom: 0,\n            right: 0,\n            color: \"lightgray\",\n          }}\n        >\n          catfood build v1.20190815.rc1\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state: RootStateType) => {\n  const props = {\n    enableScroll: state.Layout.get(\"EnableScroll\") as boolean,\n  }\n  return props\n}\nconst mapDispatchToProps = (\n  dispatch: ThunkDispatch<RootStateType, void, Action>\n) => {\n  return {}\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(IndexPage)\n"],"sourceRoot":""}